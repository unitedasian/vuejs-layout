!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["uam-vue-layout"]=e():t["uam-vue-layout"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=6)}([function(t,e,i){"use strict";function o(t,e,i,o,s,n,r,a){t=t||{};var l=typeof t.default;"object"!==l&&"function"!==l||(t=t.default);var f="function"==typeof t?t.options:t;e&&(f.render=e,f.staticRenderFns=i,f._compiled=!0),o&&(f.functional=!0),n&&(f._scopeId=n);var c;if(r?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},f._ssrRegister=c):s&&(c=a?function(){s.call(this,this.$root.$options.shadowRoot)}:s),c)if(f.functional){f._injectStyles=c;var u=f.render;f.render=function(t,e){return c.call(e),u(t,e)}}else{var h=f.beforeCreate;f.beforeCreate=h?[].concat(h,c):[c]}return{exports:t,options:f}}e.a=o},function(t,e,i){"use strict";var o=i(10),s=i(14);e.a={name:"Layout",components:{Flex:s.a},created:function(){this.$store.registerModule("$_layout",o.a)},props:{appVersion:{},enableSidebar:{default:!0},enableSidebarToggle:{default:!0},flatten:{default:!0},layout:{default:function(){return s.a}}}}},function(t,e,i){"use strict";var o=i(15),s=i(19);e.a={components:{Topnav:o.a,Version:s.a},computed:{sidebar:function(){return this.$store.getters["$_layout/sidebar"]}},props:{appVersion:{},enableSidebar:{default:!0},enableSidebarToggle:{default:!0},flatten:{default:!0}}}},function(t,e,i){"use strict";var o=i(16);e.a={components:{SidebarToggle:o.a},computed:{css:function(){var t=this.collapsed?[]:["show"];return this.flatten&&t.push("flatten"),t.join(" ")}},data:function(){return{collapsed:!0}},methods:{toggleNav:function(){this.collapsed=!this.collapsed}},props:{enableSidebarToggle:{type:Boolean,default:!0},flatten:{type:Boolean,default:!0}}}},function(t,e,i){"use strict";e.a={computed:{sidebar:function(){return this.$store.getters["$_layout/sidebar"]},icon:function(){return"collapsed"===this.sidebar?"fa fa-angle-double-right":"fa fa-angle-double-left"}},methods:{toggle:function(){this.$store.dispatch("$_layout/toggleSidebar")}}}},function(t,e,i){"use strict";e.a={props:["appVersion"]}},function(t,e,i){i(7),t.exports=i(8)},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(9),s=i(23),n=i.n(s),r={install:function(t){t.use(n.a),t.component("Layout",o.a)}};e.default=r},function(t,e,i){"use strict";var o=i(1),s=i(22),n=i(0),r=Object(n.a)(o.a,s.a,s.b,!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";var o=i(11),s=i(12),n=i(13),r={sidebar:null};e.a={namespaced:!0,state:r,actions:o.a,getters:s.a,mutations:n.a}},function(t,e,i){"use strict";var o=function(t){t.commit("TOGGLE_SIDEBAR")};e.a={toggleSidebar:o}},function(t,e,i){"use strict";var o=function(t){var e=t.sidebar;return e||(e=localStorage.getItem("uam.layout.sidebar")),e||(e="expanded"),e};e.a={sidebar:o}},function(t,e,i){"use strict";var o=function(t){t.sidebar="collapsed"===t.sidebar?"expanded":"collapsed",localStorage.setItem("uam.layout.sidebar",t.sidebar)};e.a={TOGGLE_SIDEBAR:o}},function(t,e,i){"use strict";var o=i(2),s=i(21),n=i(0),r=Object(n.a)(o.a,s.a,s.b,!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";var o=i(3),s=i(18),n=i(0),r=Object(n.a)(o.a,s.a,s.b,!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";var o=i(4),s=i(17),n=i(0),r=Object(n.a)(o.a,s.a,s.b,!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"toggle",on:{click:t.toggle}},[i("i",{class:t.icon})])},s=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"nav-top"},[t.enableSidebarToggle?i("SidebarToggle"):t._e(),t._v(" "),i("nav",{staticClass:"nav-brand"},[t._t("__logo",[t._v("LOGO")])],2),t._v(" "),i("div",{staticClass:"navbar-collapse collapse",class:t.css},[i("nav",{staticClass:"nav-center"},[t._t("nav-center")],2),t._v(" "),i("nav",{staticClass:"nav-right"},[t._t("__nav-right")],2)]),t._v(" "),i("button",{staticClass:"navbar-toggler",attrs:{"aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation","data-toggle":"collapse","data-target":"#__nav",type:"button"},on:{click:t.toggleNav}},[i("i",{staticClass:"fa fa-ellipsis-v"})])],1)},s=[]},function(t,e,i){"use strict";var o=i(5),s=i(20),n=i(0),r=Object(n.a)(o.a,s.a,s.b,!1,null,null,null);e.a=r.exports},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var o=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"version"},[t._v("\n  "+t._s(t.appVersion)+"\n")])},s=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex",class:t.enableSidebar?t.sidebar:""},[i("header",[i("Topnav",{attrs:{enableSidebarToggle:t.enableSidebarToggle,flatten:t.flatten}},[i("template",{slot:"__logo"},[t._t("_logo")],2),t._v(" "),i("template",{slot:"__nav-right"},[t._t("_nav-right")],2)],2)],1),t._v(" "),i("section",{staticClass:"body"},[t.enableSidebar?i("aside",[i("affix",{attrs:{offset:{top:76,bottom:-100},"relative-element-selector":"#main"}},[t._t("_sidebar",[i("pre",[t._v("Sidebar goes here")])])],2)],1):t._e(),t._v(" "),i("main",{attrs:{id:"main"}},[i("router-view")],1)]),t._v(" "),i("footer",[t._t("_footer",[i("Version",{attrs:{appVersion:t.appVersion}})])],2)])},s=[]},function(t,e,i){"use strict";i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.layout,{tag:"component",attrs:{appVersion:t.appVersion,enableSidebar:t.enableSidebar,enableSidebarToggle:t.enableSidebarToggle,flatten:t.flatten}},[i("template",{slot:"_logo"},[t._t("logo")],2),t._v(" "),i("template",{slot:"_nav-right"},[t._t("nav-right")],2),t._v(" "),i("template",{slot:"_sidebar"},[t._t("sidebar")],2),t._v(" "),i("template",{slot:"_footer"},[t._t("footer")],2)],2)},s=[]},function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function e(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),s=function(t){return t&&t.__esModule?t:{default:t}}(o),n={};n.install=function(t){n.install.installed||t.component("affix",s.default)},"undefined"!=typeof window&&window.Vue&&n.install(window.Vue),e.default=n},function(t,e,i){function o(t){i(2)}var s=i(7)(i(8),i(9),o,null,null);t.exports=s.exports},function(t,e,i){var o=i(3);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(5)("044fa194",o,!0)},function(t,e,i){e=t.exports=i(4)(void 0),e.push([t.i,".vue-affix{position:relative}.affix{position:fixed}.affix-bottom{position:relative}",""])},function(t,e){function i(t,e){var i=t[1]||"",s=t[3];if(!s)return i;if(e&&"function"==typeof btoa){var n=o(s);return[i].concat(s.sources.map(function(t){return"/*# sourceURL="+s.sourceRoot+t+" */"})).concat([n]).join("\n")}return[i].join("\n")}function o(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=i(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},s=0;s<this.length;s++){var n=this[s][0];"number"==typeof n&&(o[n]=!0)}for(s=0;s<t.length;s++){var r=t[s];"number"==typeof r[0]&&o[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),e.push(r))}},e}},function(t,e,i){function o(t){for(var e=0;e<t.length;e++){var i=t[e],o=c[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(n(i.parts[s]));o.parts.length>i.parts.length&&(o.parts.length=i.parts.length)}else{for(var r=[],s=0;s<i.parts.length;s++)r.push(n(i.parts[s]));c[i.id]={id:i.id,refs:1,parts:r}}}}function s(){var t=document.createElement("style");return t.type="text/css",u.appendChild(t),t}function n(t){var e,i,o=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(o){if(p)return m;o.parentNode.removeChild(o)}if(v){var n=d++;o=h||(h=s()),e=r.bind(null,o,n,!1),i=r.bind(null,o,n,!0)}else o=s(),e=a.bind(null,o),i=function(){o.parentNode.removeChild(o)};return e(t),function(o){if(o){if(o.css===t.css&&o.media===t.media&&o.sourceMap===t.sourceMap)return;e(t=o)}else i()}}function r(t,e,i,o){var s=i?"":o.css;if(t.styleSheet)t.styleSheet.cssText=g(e,s);else{var n=document.createTextNode(s),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(n,r[e]):t.appendChild(n)}}function a(t,e){var i=e.css,o=e.media,s=e.sourceMap;if(o&&t.setAttribute("media",o),s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var f=i(6),c={},u=l&&(document.head||document.getElementsByTagName("head")[0]),h=null,d=0,p=!1,m=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i){p=i;var s=f(t,e);return o(s),function(e){for(var i=[],n=0;n<s.length;n++){var r=s[n],a=c[r.id];a.refs--,i.push(a)}e?(s=f(t,e),o(s)):s=[];for(var n=0;n<i.length;n++){var a=i[n];if(0===a.refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete c[a.id]}}}};var g=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var i=[],o={},s=0;s<e.length;s++){var n=e[s],r=n[0],a=n[1],l=n[2],f=n[3],c={id:t+":"+s,css:a,media:l,sourceMap:f};o[r]?o[r].parts.push(c):i.push(o[r]={id:r,parts:[c]})}return i}},function(t,e){t.exports=function(t,e,i,o,s){var n,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(n=t,r=t.default);var l="function"==typeof r?r.options:r;e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),o&&(l._scopeId=o);var f;if(s?(f=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=f):i&&(f=i),f){var c=l.functional,u=c?l.render:l.beforeCreate;c?l.render=function(t,e){return f.call(e),u(t,e)}:l.beforeCreate=u?[].concat(u,f):[f]}return{esModule:n,exports:r,options:l}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{relativeElementSelector:{type:String,required:!0},offset:{type:Object,default:function(){return{top:40,bottom:40}}},enabled:{type:Boolean,default:!0},scrollAffix:{type:Boolean,default:!1}},computed:{relativeElement:function(){return document.querySelector(this.relativeElementSelector)}},data:function(){return{affixHeight:null,affixBottomPos:null,affixRect:null,relativeElmBottomPos:null,relativeElmOffsetTop:null,topPadding:null,lastState:null,currentState:null,currentScrollAffix:null,distanceFromTop:window.pageYOffset,lastDistanceFromTop:window.pageYOffset,scrollingUp:null,scrollingDown:null}},methods:{setDynamicVariables:function(){this.distanceFromTop=window.pageYOffset,this.affixRect=this.$el.getBoundingClientRect(),this.affixHeight=this.$el.offsetHeight,this.affixBottomPos=this.distanceFromTop+this.affixRect.bottom,this.screenBottomPos=this.distanceFromTop+window.innerHeight,this.relativeElmBottomPos=this.distanceFromTop+this.relativeElement.getBoundingClientRect().bottom,this.relativeElmOffsetTop=this.getOffsetTop(this.relativeElement)},onScroll:function(){if(!this.enabled)return void this.removeClasses();this.setDynamicVariables(),this.affixHeight+this.offset.top>=this.relativeElement.offsetHeight||this.handleAffix()},handleAffix:function(){if(this.scrollAffix&&this.affixHeight>window.innerHeight)return this.setScrollingDirection(),"scrollaffix-top"===this.currentScrollAffix&&this.distanceFromTop+this.offset.top>=this.affixInitialTop&&this.setScrollAffixScrolling(),this.scrollingDown&&"scrollaffix-scrolling"===this.currentScrollAffix&&this.screenBottomPos>=this.affixBottomPos+this.offset.bottom&&this.screenBottomPos<this.relativeElmBottomPos&&this.setScrollAffixDown(),this.scrollingUp&&"scrollaffix-scrolling"===this.currentScrollAffix&&this.distanceFromTop+this.offset.top+this.topPadding<this.affixRect.top+this.distanceFromTop&&this.setScrollAffixUp(),this.scrollingDown&&"scrollaffix-down"===this.currentScrollAffix&&this.screenBottomPos>=this.relativeElmBottomPos+this.offset.bottom&&this.setScrollAffixBottom(),"scrollaffix-bottom"===this.currentScrollAffix&&this.screenBottomPos<this.relativeElmBottomPos&&this.setScrollAffixScrolling(),(this.scrollingUp&&"scrollaffix-down"===this.currentScrollAffix||this.scrollingDown&&"scrollaffix-up"===this.currentScrollAffix)&&this.setScrollAffixScrolling(),this.scrollingUp&&"scrollaffix-up"===this.currentScrollAffix&&this.distanceFromTop<this.relativeElmOffsetTop-this.offset.top&&this.setScrollAffixTop(),this.lastScrollAffixState=this.currentScrollAffix,void(this.lastDistanceFromTop=this.distanceFromTop);this.distanceFromTop<this.relativeElmOffsetTop-this.offset.top&&this.setAffixTop(),this.distanceFromTop>=this.relativeElmOffsetTop-this.offset.top&&this.relativeElmBottomPos-this.offset.bottom>=this.distanceFromTop+this.topPadding+this.affixHeight+this.offset.top&&this.setAffix(),this.relativeElmBottomPos-this.offset.bottom<this.distanceFromTop+this.topPadding+this.affixHeight+this.offset.top&&this.setAffixBottom(),this.lastState=this.currentState},initScrollAffix:function(){this.distanceFromTop<this.affixInitialTop-this.offset.top?this.setScrollAffixTop():this.screenBottomPos>=this.affixBottomPos+this.offset.bottom&&this.screenBottomPos<this.relativeElmBottomPos?this.setScrollAffixDown():this.screenBottomPos>=this.relativeElmBottomPos?this.setScrollAffixBottom():this.setScrollAffixScrolling()},setScrollAffixScrolling:function(){this.currentScrollAffix="scrollaffix-scrolling",this.$el.style.top=this.affixRect.top+this.distanceFromTop-this.affixInitialTop+"px",this.$el.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollAffixUp:function(){this.currentScrollAffix="scrollaffix-up",this.currentScrollAffix!==this.lastState&&(this.$el.style.top=this.topPadding+this.offset.top+"px",this.$el.style.bottom="auto",this.removeClasses(),this.emitEvent(),this.$el.classList.add("affix"))},setScrollAffixDown:function(){this.currentScrollAffix="scrollaffix-down",this.currentScrollAffix!==this.lastState&&(this.$el.style.bottom=this.offset.bottom+"px",this.$el.style.top="auto",this.removeClasses(),this.emitEvent(),this.$el.classList.add("affix"))},setScrollAffixTop:function(){this.currentScrollAffix="scrollaffix-top",this.$el.style.top=0,this.$el.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollAffixBottom:function(){this.currentScrollAffix="scrollaffix-bottom",this.$el.style.top=this.relativeElmBottomPos-this.affixInitialTop-this.affixHeight+"px",this.$el.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollingDirection:function(){this.distanceFromTop>this.lastDistanceFromTop?(this.scrollingDown=!0,this.scrollingUp=!1):(this.scrollingUp=!0,this.scrollingDown=!1)},setAffixTop:function(){this.currentState="affix-top",this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.$el.classList.remove("affix"),this.$el.classList.add("affix-top"),this.$el.style.top=null)},setAffix:function(){this.currentState="affix",this.$el.style.top=this.topPadding+this.offset.top+"px",this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.$el.classList.add("affix"))},setAffixBottom:function(){this.currentState="affix-bottom",this.$el.style.top=this.relativeElement.offsetHeight-this.affixHeight-this.offset.bottom-this.topPadding+"px",this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.$el.classList.add("affix-bottom"))},removeClasses:function(){this.$el.classList.remove("affix-top"),this.$el.classList.remove("affix"),this.$el.classList.remove("affix-bottom")},emitEvent:function(){this.scrollAffix&&this.lastScrollAffixState&&this.$emit(this.currentScrollAffix.replace("-","")),this.lastState&&this.$emit(this.currentState.replace("-",""))},getOffsetTop:function(t){for(var e=0,i=t;i;)e+=i.offsetTop,i=i.offsetParent;return e}},mounted:function(){this.$el.classList.add("vue-affix"),this.affixInitialTop=this.getOffsetTop(this.$el),this.topPadding=this.affixInitialTop-this.getOffsetTop(this.relativeElement),this.setDynamicVariables(),this.scrollAffix&&this.initScrollAffix(),this.onScroll(),window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)},staticRenderFns:[]}}])})}])});